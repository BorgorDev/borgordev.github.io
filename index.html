<!DOCTYPE html>
<html>
<head>
  <title>BorgorDev Forum</title>
  <style>
    /* ... CSS styles remain the same ... */
  </style>
  <script>
    var allPosts = [];

    function submitPost() {
      var title = document.getElementById("post-title").value;
      var content = document.getElementById("post-content").value;
      var author = document.getElementById("post-author").value;
      var date = new Date().toISOString().slice(0, 10);

      var post = {
        title: title,
        content: content,
        author: author,
        date: date
      };

      savePostToAPI(post, function(savedPost) {
        allPosts.push(savedPost);
        displayPosts(allPosts);

        // Clear form inputs
        document.getElementById("post-title").value = "";
        document.getElementById("post-content").value = "";
        document.getElementById("post-author").value = "";
      });
    }

    function searchPosts() {
      var input = document.getElementById("search-input").value.toLowerCase();
      var filteredPosts = allPosts.filter(function(post) {
        return post.title.toLowerCase().includes(input);
      });

      displayPosts(filteredPosts);
    }

    function displayPosts(posts) {
      var forumContainer = document.querySelector(".forum-container");
      forumContainer.innerHTML = "";

      for (var i = 0; i < posts.length; i++) {
        var post = posts[i];

        var postContainer = document.createElement("div");
        postContainer.className = "post";

        var postTitle = document.createElement("div");
        postTitle.className = "post-title";
        postTitle.textContent = post.title;

        var postContent = document.createElement("div");
        postContent.className = "post-content";
        postContent.textContent = post.content;

        var postInfo = document.createElement("div");
        postInfo.className = "post-info";
        var authorLink = document.createElement("a");
        authorLink.href = "#";
        authorLink.textContent = post.author;
        var dateSpan = document.createElement("span");
        dateSpan.textContent = "Posted on: " + post.date;

        postInfo.appendChild(document.createTextNode("Posted by: "));
        postInfo.appendChild(authorLink);
        postInfo.appendChild(document.createTextNode(" "));
        postInfo.appendChild(dateSpan);

        postContainer.appendChild(postTitle);
        postContainer.appendChild(postContent);
        postContainer.appendChild(postInfo);

        forumContainer.appendChild(postContainer);
      }
    }

    function savePostToAPI(post, callback) {
      var xhr = new XMLHttpRequest();
      xhr.open("POST", "https://jsonplaceholder.typicode.com/posts", true);
      xhr.setRequestHeader("Content-type", "application/json");
      xhr.onload = function() {
        if (xhr.status === 201) {
          var savedPost = JSON.parse(xhr.responseText);
          callback(savedPost);
        }
      };
      xhr.send(JSON.stringify(post));
    }

    function fetchPostsFromAPI(callback) {
      var xhr = new XMLHttpRequest();
      xhr.open("GET", "https://jsonplaceholder.typicode.com/posts", true);
      xhr.onload = function() {
        if (xhr.status === 200) {
          var posts = JSON.parse(xhr.responseText);
          callback(posts);
        }
      };
      xhr.send();
    }

    // Retrieve posts from the API on page load
    document.addEventListener("DOMContentLoaded", function() {
      fetchPostsFromAPI(function(posts) {
        allPosts = posts;
        displayPosts(allPosts);
      });
    });
  </script>
</head>
<body>
  <h1>BorgorDev Forum</h1>
  <div class="forum-container">
    <!-- Existing posts will be displayed here -->
  </div>
  <div class="form-container">
    <h2>Create a new post</h2>
    <form onsubmit="event.preventDefault(); submitPost();">
      <label for="post-title">Title</label>
      <input type="text" id="post-title" name="post-title" required>
      <label for="post-content">Content</label>
      <textarea id="post-content" name="post-content" rows="4" required></textarea>
      <label for="post-author">Author</label>
      <input type="text" id="post-author" name="post-author" required>
      <input type="submit" value="Submit">
    </form>
  </div>
  <div class="search-container">
    <h2>Search posts</h2>
    <input type="text" id="search-input" oninput="searchPosts()" placeholder="Search by title...">
  </div>
</body>
</html>
